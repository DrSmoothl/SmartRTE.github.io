<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>b30生成</title>
		<script src="js/b30gen.js"></script>
		<script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
		<!-- <link href="https://fonts.googlefonts.cn/css?family=Exo:600&amp;subset=latin-ext" rel="stylesheet"> -->
		<link rel="stylesheet" type="text/css" href="css/b30gen.css" />
		<link rel="icon" href="favicon.ico" />
	</head>

	<body>
		<div id="mainCover">
			<img id="loadingGif" src="img/loading.gif" /><br /><br /><br /><br /><br />
			<h1 id="loadingNotice"> Generating...Please wait for a second... </h1>
		</div>
		<div id="mainCapture">
			<div id="container">
				<div id="background">
					<img id="bgImg" src="bgs/8.webp" />
				</div>

				<!--<img id="partner" src="img/kou.webp" />-->
				<h1 id="notice">若页面显示不完整，请刷新几次</h1>
				<div id="PTTValue">
					<div id="playerInfo">

						<div id="Avatar">
							<div id="iconblur">
								<img src="img/avatar/60_icon.webp" />
							</div>
							<div id="icon" onclick="switchController()">
								<img src="img/avatar/60_icon.webp" />
							</div>
							<div id="stars">

								<div id="b30Value">
									<img id="starImg" src="img/rating/rating_1.png" />
									<div id="personalPTT">6.16</div>
								</div>
							</div>

							<div id="userName">Hikari</div>
							<div id="uidBox">
								ID :
								<div id="uid">100 000 001</div>
							</div>
						</div>
					</div>
					<div id="PTTDisplay"> </div>

					<div>
						<img class="spliter2" src="img/divider.png" />
						<img class="besttext" id="best30" src="img/best30.png" />
					</div>
				</div>
			</div>

			<!-- 显示 b30 数据 主体在js内 -->
			<div id="b30Data"> </div>
			<a id="copyright">Generated by RTE at http://SmartRTE.github.io @ 2023 </a>
		</div>
		
		<div id="controller">
			<div id="player">
				<label>在此修改要显示的👇</label><br />
				<label>用户名</label><br />
				<input id="nameInput" oninput="refreshUsername()" value="Hikari" /><br />
				<label>好友码</label> <button id="hideUID"
					style="width: auto;height: auto;background-color: cornflowerblue;" onclick="hideUid()"
					value="1">隐藏</button><br />
				<input id="uidInput" maxlength="9" oninput="refreshUID()" value="100000001" /><br />
				<label>潜力值</label><br />
				<input id="pPTTInput" maxlength="5" oninput="recalculateR10()" value="6.16" />
				<label>反推得到的R10会随潜力值而变动</label>
				<!-- <label>过于离谱的R10不显示🤔</label><br /> -->
			</div>
			
			<div id="units">
				
				<label>显示曲目成绩数调节👇</label><br />
				<input id="displayAmount" oninput="changeDisplayAmount()" type="number" value="39" /><br />
				<label>数值过大保存图片可能失败或导致图片不完整，<br />且图片可能过大无法正常发送</label>
			</div>
			<div id="files">
				<label style="background-color: burlywood; width: 100%; text-align: center; height: 40px; color: darkred;">↖点击头像显示/隐藏该控件</label>
				
				<input type="file" id="fileInput" style="display: none;">
				<label>选择csv文件以上传数据👇</label><br />
				<button id="uploadButton">点击选择csv文件</button><br />
				<button id="saveButton" style="font-style: italic;">保存当前分数页图片</button> <br />
				<button><a href="index.html">点击跳转csv生成页面</a></button><br />
				<button onclick="editScore()"><a>修改当前分数表</a></button>
			</div>
			
			<div id="easyPTT">
				<label style="cursor: pointer;" onclick="">计算单曲ptt 👍</label> <br />
				<label>定数</label>
				<input id="realDifficulty" maxlength="5" oninput="calculateSinglePTT()" /> <br />
				<label>分数</label>
				<input id="score" maxlength="8" oninput="calculateSinglePTT()" /> <br />
				<label>单曲ptt</label>
				<output id="singleptt">👉[ ]</output>
			</div>
			
			<div id="statistic">
				<label id="statistic_Toat">在显示的数据中:</label><br />
				<label>FR共有</label>
				<output id="statistic_FR"></output><br />
				<label>PM共有</label>
				<output id="statistic_PM"></output><br />
				<label>理论共有</label>
				<output id="statistic_TH"></output><br />
				<label>1f/1l共有</label>
				<output id="statistic_XN"></output><br />
				<label>PM但1小p共有</label>
				<output id="statistic_1X"></output>
			</div>
			<div id="avatarSelect">
				<label>从下方选择你要替换的头像</label>
				<button onclick="showSelect()" style="cursor: pointer;">展开/收起头像选择</button>
				<table id="sheet">
					<tbody id="avatarTable">
					</tbody>
				</table>
			</div>
			
			<div id="backgroundSelect">
				
				<label>切换背景图片</label><br />
				<button style="width: 150px; float: left;" onclick="switchBg(-1)">上一张</button>
				<label id="currentBgIndex"
					style="float: left; width: 180px; text-align: center; font-size: 40px; top: 8px; position: relative;">9/9</label>
				<button style="width: 150px; position: relative; float: left;" onclick="switchBg(1)">下一张</button><br />
			</div>
			<div id="illustrationTypeDiv">
				<label id="illustrationType">切换高清曲绘（慢、费流量）</label>
				<button id="switchIllustrationType" onclick="switchIllustrationType()">切换到高清曲绘</button>
			</div>
			<div id="clearLocalStorage">
				<label>点击下方按钮清除本地缓存</label><br />
				<button onclick="cln()" style="cursor: pointer;">清除本地缓存并刷新页面(慎用！)</button><br /><br />
			</div>
		</div>
	</body>

</html>